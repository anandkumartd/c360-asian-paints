{"ast":null,"code":"import { FETCH_PROFILES_BEGIN, FETCH_PROFILES_SUCCESS, FETCH_PROFILES_FAILURE } from \"./types\";\nimport Parser from \"../utils/parsers/Parser\";\nimport axios from \"axios\";\nexport const fetchProfiles = () => dispatch => {\n  dispatch({\n    type: FETCH_PROFILES_BEGIN\n  });\n  var parser = new Parser(); // proxy url to be used for removing CORS errors\n\n  var proxyURL = \"https://cors-anywhere.herokuapp.com/\";\n  axios.defaults.baseURL = proxyURL + \"https://api-staging-cdp.treasuredata.com\";\n  axios.defaults.headers.common[\"Authorization\"] = \"TD1 1199/ca445d86e9cbd277d798cd4ee23849d230e42745\";\n  axios.defaults.headers.common[\"content-type\"] = \"application/json;charset=utf-8\";\n  axios.get(\"/audiences/137520/customers/\").then(response => {\n    dispatch({\n      type: FETCH_PROFILES_SUCCESS,\n      payload: parser.makeDictFromArrays(response.data.names, response.data.rows)\n    }); //console.log(\"profaction: \" + response.data);\n  }).catch(error => dispatch({\n    type: FETCH_PROFILES_FAILURE,\n    payload: error\n  }));\n};","map":{"version":3,"sources":["/Users/anandkumar/Documents/github/td-solution-engineering/c360-ap/src/actions/profilesActions.js"],"names":["FETCH_PROFILES_BEGIN","FETCH_PROFILES_SUCCESS","FETCH_PROFILES_FAILURE","Parser","axios","fetchProfiles","dispatch","type","parser","proxyURL","defaults","baseURL","headers","common","get","then","response","payload","makeDictFromArrays","data","names","rows","catch","error"],"mappings":"AAAA,SACEA,oBADF,EAEEC,sBAFF,EAGEC,sBAHF,QAIO,SAJP;AAKA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAMC,QAAQ,IAAI;AAC7CA,EAAAA,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAEP;AADC,GAAD,CAAR;AAIA,MAAIQ,MAAM,GAAG,IAAIL,MAAJ,EAAb,CAL6C,CAM7C;;AACA,MAAIM,QAAQ,GAAG,sCAAf;AACAL,EAAAA,KAAK,CAACM,QAAN,CAAeC,OAAf,GAAyBF,QAAQ,GAAC,0CAAlC;AACFL,EAAAA,KAAK,CAACM,QAAN,CAAeE,OAAf,CAAuBC,MAAvB,CAA8B,eAA9B,IACA,mDADA;AAEAT,EAAAA,KAAK,CAACM,QAAN,CAAeE,OAAf,CAAuBC,MAAvB,CAA8B,cAA9B,IAAgD,gCAAhD;AAEET,EAAAA,KAAK,CAACU,GAAN,CAAU,8BAAV,EAA0CC,IAA1C,CACEC,QAAQ,IACR;AACEV,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEN,sBADC;AAEPgB,MAAAA,OAAO,EAAET,MAAM,CAACU,kBAAP,CACPF,QAAQ,CAACG,IAAT,CAAcC,KADP,EAEPJ,QAAQ,CAACG,IAAT,CAAcE,IAFP;AAFF,KAAD,CAAR,CADF,CAQE;AACD,GAXH,EAaIC,KAbJ,CAaUC,KAAK,IACXjB,QAAQ,CAAC;AACPC,IAAAA,IAAI,EAAEL,sBADC;AAEPe,IAAAA,OAAO,EAAEM;AAFF,GAAD,CAdZ;AAmBD,CAhCM","sourcesContent":["import {\n  FETCH_PROFILES_BEGIN,\n  FETCH_PROFILES_SUCCESS,\n  FETCH_PROFILES_FAILURE\n} from \"./types\";\nimport Parser from \"../utils/parsers/Parser\";\nimport axios from \"axios\";\n\nexport const fetchProfiles = () => dispatch => {\n  dispatch({\n    type: FETCH_PROFILES_BEGIN\n  });\n\n  var parser = new Parser();\n  // proxy url to be used for removing CORS errors\n  var proxyURL = \"https://cors-anywhere.herokuapp.com/\"\n  axios.defaults.baseURL = proxyURL+\"https://api-staging-cdp.treasuredata.com\"; \naxios.defaults.headers.common[\"Authorization\"] =\n\"TD1 1199/ca445d86e9cbd277d798cd4ee23849d230e42745\";\naxios.defaults.headers.common[\"content-type\"] = \"application/json;charset=utf-8\";\n\n  axios.get(\"/audiences/137520/customers/\").then(\n    response =>\n    {\n      dispatch({\n        type: FETCH_PROFILES_SUCCESS,\n        payload: parser.makeDictFromArrays(\n          response.data.names,\n          response.data.rows\n        )\n      })\n      //console.log(\"profaction: \" + response.data);\n    }\n   )\n     .catch(error =>\n      dispatch({\n        type: FETCH_PROFILES_FAILURE,\n        payload: error\n      })\n  );\n};\n"]},"metadata":{},"sourceType":"module"}